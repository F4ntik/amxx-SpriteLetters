# Project Agent Notes

## Layout
- amxmodx/
  - plugins/ - compiled .amxx binaries generated by `build.bat`.
  - scripting/ - main source:
    - SprLetters.sma - core runtime (word/letter entities, build logic, rotation).
    - SprLett-Editor.sma + SprLett-Editor/ - in-game editor commands and menus.
    - SprLett-Saver.sma - JSON save/load of placed words.
    - include/ - shared API (SprLetters.inc, macros, enums).
  - data/lang/ - localisation files; SpriteLetters.ini holds menu strings.
- assets/ - sprite assets (charsets etc.).
- compilator_1_9_0/ - local AMXX compiler bundle (not for commit).
- build.bat / config.bat - helper to compile & package (`build.bat SprLett-Editor`).

## Encoding
- amxmodx/data/lang/SpriteLetters.ini **must stay UTF-8 (no BOM)**. Use editors/commands that write UTF-8 explicitly (e.g. PowerShell `Set-Content -Encoding UTF8`). Avoid ANSI/CP1251 saves to keep Unicode text intact and prevent repeated encoding fixes.

## Build & Testing
- Compilation: `powershell -command "='D:\PyProjects\amxx-SpriteLetters\compilator_1_9_0'; ='amxxpc.exe'; ./build.bat SprLett-Editor"`
- Output goes to `amxmodx/plugins/` and packaged SpriteLetters.zip.

## Notes
- `compilator_1_9_0/` and `local.build-config` are local-only; ignore in commits.
- Menu helper `_CmdMenuHandle` now takes a `BackToMain` flag — submenus pass `true`, main menu passes `false` so it closes.
